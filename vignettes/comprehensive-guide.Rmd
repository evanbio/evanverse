---
title: "Comprehensive Guide to evanverse"
output: rmarkdown::html_vignette
vignette: >
  %\VignetteIndexEntry{Comprehensive Guide to evanverse}
  %\VignetteEngine{knitr::rmarkdown}
  %\VignetteEncoding{UTF-8}
---

```{r, include = FALSE}
knitr::opts_chunk$set(
  collapse = TRUE,
  comment = "#>",
  fig.width = 8,
  fig.height = 6,
  dpi = 300,
  out.width = "100%"
)
```

```{r setup, message = FALSE}
library(evanverse)
library(dplyr)
library(ggplot2)
```

# 🌟 Complete Guide to evanverse

`evanverse` is a comprehensive R utility package providing 55+ functions for data analysis, visualization, and bioinformatics workflows. This guide demonstrates all major functionality with practical examples.

## 📦 Package Management Made Simple

### Installing Packages from Multiple Sources

```{r package-install, eval = FALSE}
# Install from CRAN
inst_pkg("tidyverse", source = "CRAN")

# Install from GitHub
inst_pkg("evanbio/evanverse", source = "GitHub")

# Install from Bioconductor
inst_pkg(c("limma", "edgeR"), source = "Bioconductor")

# Smart source detection (automatic)
inst_pkg("dplyr")  # Detects CRAN automatically
```

### Package Checking and Information

```{r package-check}
# Check if packages are installed
check_pkg("dplyr")
check_pkg(c("ggplot2", "nonexistent_package"))

# Get package version information
pkg_version("evanverse")

# List all functions in a package
functions_list <- pkg_functions("evanverse")
head(functions_list, 10)
```

## 🎨 Color Palette System

### Exploring Available Palettes

```{r palettes-list}
# List all available palettes by type
sequential_palettes <- list_palettes(type = "sequential")
qualitative_palettes <- list_palettes(type = "qualitative")
diverging_palettes <- list_palettes(type = "diverging")

cat("Sequential palettes:", length(sequential_palettes), "\n")
cat("Qualitative palettes:", length(qualitative_palettes), "\n")
cat("Diverging palettes:", length(diverging_palettes), "\n")
```

### Using Color Palettes

```{r palettes-demo}
# Get specific palettes
vivid_colors <- get_palette("vividset", type = "qualitative")
blues_gradient <- get_palette("blues", type = "sequential", n = 5)

cat("Vivid qualitative palette:\n")
print(vivid_colors)

cat("\nBlues sequential palette (5 colors):\n")
print(blues_gradient)
```

### Creating Custom Palettes

```{r custom-palette, eval = FALSE}
# Create a custom palette
custom_colors <- c("#FF6B6B", "#4ECDC4", "#45B7D1", "#96CEB4", "#FFEAA7")
create_palette("my_custom", type = "qualitative", colors = custom_colors)

# Preview the palette
preview_palette("my_custom", type = "qualitative")
```

## 📊 Visualization Functions

### Venn Diagrams

```{r venn-demo, fig.cap="Example Venn diagram showing overlap between sets"}
# Create sample data
set1 <- c("Gene1", "Gene2", "Gene3", "Gene4", "Gene5")
set2 <- c("Gene3", "Gene4", "Gene5", "Gene6", "Gene7")
set3 <- c("Gene5", "Gene6", "Gene7", "Gene8", "Gene9")

sets_list <- list(
  GroupA = set1,
  GroupB = set2,
  GroupC = set3
)

# Create Venn diagram with custom colors
venn_plot <- plot_venn(
  set1 = sets_list[[1]],
  set2 = sets_list[[2]],
  set3 = sets_list[[3]],
  category.names = names(sets_list),
  fill = get_palette("vividset", type = "qualitative", n = 3),
  title = "Gene Set Overlaps"
)
print(venn_plot)
```

### Bar Plots

```{r bar-demo, fig.cap="Professional bar plot with custom styling"}
# Sample data
sample_data <- data.frame(
  Category = c("Type A", "Type B", "Type C", "Type D", "Type E"),
  Count = c(25, 18, 12, 8, 5),
  Group = c("High", "High", "Medium", "Low", "Low")
)

# Create bar plot
bar_plot <- plot_bar(data = sample_data,
                     x = "Category",
                     y = "Count",
                     fill = "Group",
                     colors = get_palette("vividset", type = "qualitative", n = 3),
                     title = "Sample Distribution by Category",
                     x_label = "Sample Type",
                     y_label = "Count")
print(bar_plot)
```

### Density Plots

```{r density-demo, fig.cap="Density plot showing distribution comparison"}
# Generate sample data
set.seed(123)
group_data <- data.frame(
  values = c(rnorm(100, mean = 5, sd = 1.5),
             rnorm(80, mean = 7, sd = 1.2),
             rnorm(90, mean = 6, sd = 2)),
  group = rep(c("Control", "Treatment A", "Treatment B"), c(100, 80, 90))
)

# Create density plot
density_plot <- plot_density(data = group_data,
                            x = "values",
                            fill = "group",
                            colors = get_palette("softtrio", type = "qualitative"),
                            title = "Distribution Comparison Across Groups",
                            x_label = "Measurement Values",
                            alpha = 0.7)
print(density_plot)
```

## 🧬 Bioinformatics Utilities

### Gene ID Conversion

```{r gene-conversion, eval = FALSE}
# Convert gene symbols to Ensembl IDs
gene_symbols <- c("BRCA1", "BRCA2", "TP53", "EGFR", "MYC")

# Convert symbols to Ensembl IDs
ensembl_ids <- convert_gene_id(
  genes = gene_symbols,
  from = "symbol",
  to = "ensembl",
  species = "human"
)

print(ensembl_ids)
```

### Working with Gene Sets (GMT files)

```{r gmt-processing, eval = FALSE}
# Process GMT file to data frame
gmt_df <- gmt2df("path/to/geneset.gmt")

# Convert to list format
gmt_list <- gmt2list("path/to/geneset.gmt")

# Preview structure
head(gmt_df, 3)
head(names(gmt_list), 5)
```

## 🔄 Data Processing & Transformation

### Handling Void Values

```{r void-handling}
# Sample data with various "void" values
messy_data <- c(1, 2, NA, "", "NA", "NULL", 0, 3, "   ", NULL)

# Check for void values
void_check <- is_void(messy_data)
cat("Void values detected:\n")
print(data.frame(value = messy_data, is_void = void_check))

# Remove void values
clean_data <- drop_void(messy_data)
cat("\nCleaned data:\n")
print(clean_data)

# Replace void values
replaced_data <- replace_void(messy_data, replacement = -999)
cat("\nData with replaced voids:\n")
print(replaced_data)
```

### Data Frame to List Conversion

```{r df-conversion}
# Sample data frame
sample_df <- data.frame(
  Gene = c("GENE1", "GENE2", "GENE3", "GENE4"),
  Pathway1 = c("P1", "P1", "P2", "P1"),
  Pathway2 = c("P2", "", "P2", "P3"),
  stringsAsFactors = FALSE
)

# Convert to named list
gene_list <- df2list(sample_df, key_col = "Gene", value_cols = c("Pathway1", "Pathway2"))
print(gene_list)
```

### Column Mapping

```{r column-mapping}
# Sample data with mapping needs
original_df <- data.frame(
  old_name1 = 1:5,
  old_name2 = letters[1:5],
  old_name3 = LETTERS[1:5]
)

# Define mapping
name_mapping <- c("old_name1" = "ID",
                  "old_name2" = "group",
                  "old_name3" = "category")

# Apply mapping
mapped_df <- map_column(original_df, mapping = name_mapping)
print(mapped_df)
```

## ⚡ Custom Operators & Logic

### String Operations

```{r string-ops}
# String concatenation with %p%
result1 <- "Hello" %p% "World" %p% "!"
cat("Concatenation:", result1, "\n")

# Pattern matching with %is%
text_check <- "hello world" %is% "hello"
cat("Pattern match:", text_check, "\n")

# Not in operator %nin%
values <- c(1, 2, 3, 4, 5)
excluded <- c(2, 4)
remaining <- values[values %nin% excluded]
cat("Values not in excluded set:", remaining, "\n")
```

### Logical Operations

```{r logic-ops}
# Combine logical vectors
logic1 <- c(TRUE, FALSE, TRUE, FALSE)
logic2 <- c(TRUE, TRUE, FALSE, FALSE)

combined <- combine_logic(logic1, logic2, method = "and")
cat("Combined logic (AND):", combined, "\n")

# Combinatorics
comb_result <- comb(n = 5, k = 2)
cat("Combinations C(5,2):", comb_result, "\n")

perm_result <- perm(n = 5, k = 2)
cat("Permutations P(5,2):", perm_result, "\n")
```

## 💾 File Operations & I/O

### Flexible File Reading

```{r file-ops, eval = FALSE}
# Read various file formats flexibly
data1 <- read_table_flex("data.csv")    # Auto-detect separator
data2 <- read_table_flex("data.tsv")    # Handle TSV
data3 <- read_table_flex("data.txt", sep = "|")  # Custom separator

# Read Excel files flexibly
excel_data <- read_excel_flex("data.xlsx", sheet = "Sheet1")

# Write Excel with multiple sheets
write_xlsx_flex(
  list(Sheet1 = data1, Sheet2 = data2),
  filename = "output.xlsx"
)
```

### File Information

```{r file-info, eval = FALSE}
# Get detailed file information
info <- file_info("myfile.txt")
print(info)

# Create file tree visualization
tree <- file_tree(".", max_depth = 2)
cat(tree)

# Get file extensions
extensions <- get_ext(c("file1.txt", "file2.csv", "file3.xlsx"))
print(extensions)
```

### Download Functions

```{r downloads, eval = FALSE}
# Download single URL
download_url("https://example.com/data.csv", dest = "local_data.csv")

# Batch download multiple URLs
urls <- c(
  "https://example.com/file1.csv",
  "https://example.com/file2.csv"
)
download_batch(urls, dest_dir = "downloads/")

# Download GEO data (bioinformatics specific)
geo_data <- download_geo_data("GSE123456")
```

## 🛠️ Workflow & Development Tools

### Timing and Performance

```{r timing}
# Time function execution
timed_result <- with_timer({
  # Simulate some work
  Sys.sleep(0.1)
  result <- sum(1:1000)
  result
})

cat("Result:", timed_result$result, "\n")
cat("Execution time:", timed_result$time, "seconds\n")
```

### Safe Execution

```{r safe-exec}
# Safe function execution with error handling
safe_result <- safe_execute({
  # This might fail
  risky_operation <- 10 / 2  # This works
  risky_operation
})

cat("Safe execution result:", safe_result$result, "\n")
cat("Success:", safe_result$success, "\n")

# Example with error
error_result <- safe_execute({
  stop("This is an intentional error")
})

cat("Error execution success:", error_result$success, "\n")
cat("Error message:", error_result$error, "\n")
```

### Color Utilities

```{r color-utils}
# Convert between color formats
hex_colors <- c("#FF6B6B", "#4ECDC4", "#45B7D1")

# Convert HEX to RGB
rgb_values <- hex2rgb(hex_colors)
print(rgb_values)

# Convert RGB back to HEX
hex_back <- rgb2hex(rgb_values)
print(hex_back)
```

## 📈 Putting It All Together: A Complete Workflow

Here's a comprehensive example combining multiple evanverse functions:

```{r complete-workflow, fig.cap="Complete workflow example combining multiple evanverse functions"}
# 1. Data preparation with void handling
raw_data <- data.frame(
  Sample = paste0("Sample_", 1:20),
  Group = rep(c("Control", "Treatment"), 10),
  Value1 = c(rnorm(10, 5, 1), rnorm(10, 7, 1.5)),
  Value2 = c(rnorm(10, 3, 0.5), rnorm(10, 4, 0.8)),
  Notes = sample(c("Good", "Fair", "", "NA", "Excellent"), 20, replace = TRUE)
)

# 2. Clean data using void handling
raw_data$Notes[is_void(raw_data$Notes)] <- "Unknown"

# 3. Create visualizations with custom colors
colors <- get_palette("vividset", type = "qualitative", n = 2)

workflow_plot <- raw_data %>%
  ggplot(aes(x = Value1, y = Value2, color = Group)) +
  geom_point(size = 3, alpha = 0.7) +
  scale_color_manual(values = colors) +
  labs(
    title = "Sample Analysis Results",
    subtitle = "Demonstrating evanverse workflow integration",
    x = "Measurement 1",
    y = "Measurement 2"
  ) +
  theme_minimal() +
  theme(
    plot.title = element_text(size = 14, face = "bold"),
    legend.position = "bottom"
  )

print(workflow_plot)

# 4. Summary statistics
summary_stats <- raw_data %>%
  group_by(Group) %>%
  summarise(
    Mean_Value1 = round(mean(Value1), 2),
    Mean_Value2 = round(mean(Value2), 2),
    Count = n(),
    .groups = 'drop'
  )

print(summary_stats)
```

## 🎯 Next Steps

This comprehensive guide has shown you how to:

- ✅ Manage packages across multiple sources
- ✅ Work with professional color palettes
- ✅ Create publication-ready visualizations
- ✅ Process biological data and gene information
- ✅ Handle data cleaning and transformation
- ✅ Use custom operators for expressive code
- ✅ Manage files and downloads efficiently
- ✅ Implement safe and timed workflows

### Explore More:
- 🎨 [Color Palette Guide](color-palettes.html) - Advanced color management
- 📊 [Visualization Showcase](visualization-showcase.html) - Publication-ready graphics
- 🧬 [Bioinformatics Workflows](bioinformatics-workflows.html) - Domain-specific applications
- 🔄 [Data Processing Guide](data-processing.html) - Data cleaning and transformation

### Get Help:
```{r help, eval = FALSE}
# Access help for any function
?get_palette
?plot_venn
?convert_gene_id

# View all package functions
help(package = "evanverse")
```

---

*Happy coding with evanverse! 🚀*